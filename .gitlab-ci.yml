image: python:3.8

before_script:
  - python -m venv venv
  - source venv/bin/activate
  - pip install .

stages:
  - test

test-job:
  stage: test
  script:
    - pytest -v --cov=inference_tools inference_tools_test
  coverage: '/(?i)total.*? (100(?:\.0+)?\%|[1-9]?\d(?:\.\d+)?\%)$/'